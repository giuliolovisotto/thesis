%\usepackage[utf8x]{inputenc}
\documentclass[a4paper,13pt,twoside]{article}
\usepackage[left=4cm,right=4cm,top=4cm,bottom=3cm]{geometry}
\usepackage[utf8x]{inputenc}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{fixltx2e}
\usepackage{underscore}
%\usepackage[none]{hyphenat}

\righthyphenmin 62
\lefthyphenmin 62

\include{thesis.preamble}

\begin{document}
%\begin{figure}[htpb]

%\end{figure}
\title{\LARGE {\bf Sviluppo core back-end per la configurazione del sistema e l'analisi di dati di tracking. }\\
 \vspace*{6mm}
}

\author{
Giulio Lovisotto \\ \vspace*{10mm}
Relatore: Professoressa Ombretta Gaggi \\ \vspace*{10mm}
Anno Accademico 2012/2013 \\}
\submitdate{October - November 2013}

\normallinespacing
\maketitle

%\preface
%\input{abstract/abstract}
%\input{acknowledgements/acknowledgements}
%\input{dedication/dedication}
%\input{quotes/quotes}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

\body
\input{sections/introduzione}
\newpage
\newpage
\input{sections/pianificazione}
\newpage
\section{Analisi dei Requisiti} \label{sec:analisi}

\subsection{Casi d'uso} \label{sec:casiduso}
In questa sezione verranno elencati i casi d'uso del sistema che è oggetto dello stage. Dato che il sistema è stato pensato per rispondere solo all'intervento di un utente che si occupa di amministrazione e installazione l'unico attore che prenderemo in considerazione è \textbf{utente}. Per ogni caso d'uso verranno riportate:
\begin{enumerate}
\item DESCRIZIONE: contenuto del caso d'uso
\item FLUSSO PRINCIPALE DEGLI EVENTI
\item PRECONDIZIONI: asserzioni che sono valide prima dell'effettiva esecuzione del caso d'uso
\item POSTCONDIZIONI: asserzioni che sono valide dopo l'esecuzione del caso d'uso
\item SCENARI ALTERNATIVI: eventuali scenari alternativi che differiscono dal normale flusso del caso d'uso
\end{enumerate}
Ogni caso d'uso ha un identificativo stile UC\textit{n} dove n indica una posizione gerarchica.
Ogni caso d'uso è posizionato all'interno della gerarchia che parte dal caso d'uso più generale UC0 (radice dell'albero). Per ogni caso d'uso figlio valgono le precondizioni del padre.
\input{sections/casiduso}
\newpage
\subsection{Requisiti} \label{sec:req}
In questa sezione verranno elencati i requisiti software che sono emersi dai casi d'uso individuati e dalle riunioni informative con i leader dello sviluppo. Per chiarezza si è cercato di tenere un rapporto 1:1 tra casi d'uso e requisiti.
 \\ \\Nell'esposizione si userà la seguente convenzione: se un requisito padre ha figli con tipologia diversa tra di loro, il requisito padre assumerà la tipologia più vincolante tra quelle dei figli (esempio: se ci sono 2 figli, uno obbligatorio ed uno desiderabile il padre sarà qualificato come obbligatorio).
\input{sections/requisiti} 
\input{sections/trReqUc}
\newpage
\input{sections/tecnologie}
\newpage
\input{sections/problematiche}
\newpage

%%%%%%%%%%%%%%%%%%%PROGETTAZIONE DEL SISTEMA%%%%%%%%%%
\section{Progettazione} \label{sec:progett}

\subsection{Architettura Generale} \label{sec:archgen}
Le specifiche del sistema concordate con l'azienda richiedevano esplicitamente che il sistema fosse realizzato seguendo lo stile architetturale \textit{three tier} (come esplicitato nei requisiti).  \\
Dato tale vincolo si è progettato il sistema affinché esso fosse rispettato, per fare ciò si sono definiti i tre livelli del pattern (\textit{user interface, business layer, data access layer}) come i tre package di alto livello. Il package UserInterface si occuperà della presentazione dei dati e dell'interfaccia utente, il package BusinessLayer conterrà la logica dell'applicazione, il package DataAccessLayer si occuperà di fornire l'accesso ai dati dell'applicazione (contenuti in un database). Si sono ulteriormente separate le funzionalità di ciascun livello in sotto-componenti i quali raggruppano insiemi di funzionalità affini. \\
Si allega il diagramma dei package che descrive l'architettura generale dell'applicazione in figura ~\ref{fig:archgen}.\\\\
\begin{figure}[htpb]
\centering
\includegraphics[scale=0.5]{./images/archgen.png}
\caption{Diagramma dei package del sistema}
\label{fig:archgen}
\end{figure}
La motivazione di tale scelta nasce dalla necessità di voler massimizzare l'indipendenza di ogni livello rispetto al resto del sistema. Sia per quanto riguarda il livello dei dati che quello di presentazione infatti era richiesto che fossero sostituibili in blocco senza andare a modificare le altre componenti dell'applicazione. Si è preferita tale decisione per far fronte (in particolare) ad eventuali necessità di sostituzione di librerie grafiche (Qt) oppure di tipo di database, infatti il team di sviluppo non è stato in grado di garantire che MySql sarebbe riuscito a tenere dei tempi di risposta soddisfacenti all'aumentare della complessità e della cardinalità dei dati.

\subsection{Database schema} \label{sec:dbschema}
Si riporta di seguito uno schema del database utilizzato all'interno dell'applicazione per il salvataggio dei dati. \\
Sebbene alcuni dati fossero comunque legati ad una telecamera, si è scelto di separare le informazioni in tabelle diverse per coerenza e semplicità. Si sono quindi divise le informazioni riguardanti la calibrazione nella tabella \textbf{tbl_cam_calibration} e nella tabella \textbf{tbl_cam}.\\
Si riporta una breve spiegazione che motiva le scelte effettuate nella progettazione dello schema del database:
\begin{enumerate}
	\item Tra \textbf{tbl_cam} e \textbf{tbl_homographic_matrices} c'è una relazione di tipo 1:n. Si è optato per tale decisione per permettere in futuro di associare diverse \textit{homography matrix} alla stessa telecamera, ciò consente al sistema di salvare matrici diverse che esprimono relazioni diverse tra le coordinate dei punti tracciati e la loro reale rappresentazione sulla planimetria del locale. In tale modo senza perdere di consistenza si possono effettuare \textit{zoom} e rotazioni per ottenere maggiori dettagli dai dati
	\item Il campo \textbf{transformed} nella tabella \textbf{tbl_tracking_data} serve per memorizzare la condizione del dato. Infatti dato che i processi di salvataggio e successiva trasformazione non sono collegati tra di loro ma comunicano con la stessa base dati, è importante sapere se un dato è già stato "trasformato" e quindi spostato nella tabella \textbf{tbl_clean_data} oppure se tale operazione ancora non è stata eseguita. Tale campo memorizza un booleano che indica lo stato del record
	\item La tabella \textbf{tbl_clean_data} memorizza i dati di tracciamento relativi al locale nel suo complesso (la planimetria). Essa serve per modificare i dati presenti in formato \textit{raw} e slegarli dalla rispettiva telecamera dai quali sono stati catturati per renderli direttamente disponibili. In tale modo anche con un sistema funzionante con diverse telecamere si crea un dato unificato e pulito utilizzabile per la generazione delle statistiche. Similmente a quanto detto sopra il campo \textbf{synchronized} indica se il dato è già stato salvato in un sistema di backup (distribuito)
\end{enumerate}
Lo schema del database è allegato in figura ~\ref{fig:dbschema}.

\begin{figure}[!h]
\centering
\includegraphics[scale=0.5]{./images/dbschema.png}
\caption{Schema del database locale (MySql Workbench editor)}
\label{fig:dbschema}
\end{figure}

\newpage
\subsection{Specifica} \label{sec:specifica}
\input{sections/specifica}
%%%%%%%%%%%%%%%%%%%%%END PROGETTAZIONE%%%%%%%%%%%%%%%%%%%
\newpage
\section{Verifica e validazione}
\subsection{Analisi statica}

\subsection{Analisi dinamica}

\subsubsection{Tracciamento test}
\newpage
\section{Conclusioni}
\newpage
\input{bibliography/bibliography}
%\input{introduction/introduction}
%\input{background/background}

% body of thesis comes here

%\input{conclusion/conclusion}

\appendix
% appendices come here
%
%\addcontentsline{toc}{section}{Bibliography}
%\bibliographystyle{alpha}
%\bibliography{bibliography/thesis}

\end{document}
